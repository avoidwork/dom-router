{"version":3,"sources":["dom-router.js"],"names":["document","window","factory","arg","obj","Router","popstate","bind","addEventListener","onpopstate","active","process","not_hash","includes","Array","indexOf","from","slice","call","has","a","b","time","Date","getTime","render","requestAnimationFrame","fn","setTimeout","Route","constructor","cfg","hash","element","trigger","timestamp","toISOString","callback","css","current","hidden","ctx","body","start","delimiter","error","logging","stop","history","routes","length","handler","oldHash","replace","newHash","location","valid","route","filter","i","y","scrollTop","oldHashes","split","newHashes","newEl","newTrigger","oldRoute","loldHash","select","forEach","o","classList","remove","idx","nth","oldEl","join","oldTrigger","load","r","log","err","id","add","sweep","push","ev","scan","querySelectorAll","Set","href","map","klass","parentNode","childNodes","nodeType","test","version","exports","define","amd","router","module"],"mappings":"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","file":"unknown","sourcesContent":["/**\n * URL hash DOM router\n *\n * @author Jason Mulligan <jason.mulligan@avoidwork.com>\n * @copyright 2022\n * @license BSD-3-Clause\n * @version 4.0.0\n */\n\n\"use strict\";\n\n(function (document, window) {\n\tconst not_hash = /.*\\#/,\n\t\tincludes = typeof Array.includes === \"function\" ? (obj, arg) => obj.includes(arg) : (obj, arg) => obj.indexOf(arg) > -1,\n\t\tfrom = typeof Array.from === \"function\" ? arg => Array.from(arg) : arg => [].slice.call(arg),\n\t\thas = (a, b) => a in b,\n\t\ttime = new Date().getTime(),\n\t\trender = window.requestAnimationFrame || function (fn) { setTimeout(fn(new Date().getTime() - time), 16); };\n\n\tclass Route {\n\t\tconstructor (cfg) {\n\t\t\tthis.hash = cfg.hash;\n\t\t\tthis.element = cfg.element;\n\t\t\tthis.trigger = cfg.trigger;\n\t\t\tthis.timestamp = new Date().toISOString();\n\t\t}\n\t}\n\n\tclass Router {\n\t\tconstructor ({active = true, callback = function () {}, css = {current: \"dr-current\", hidden: \"dr-hidden\"}, ctx = document.body, start = null, delimiter = \"/\", error = function () {}, logging = false, stop = true} = {}) {\n\t\t\tthis.active = active;\n\t\t\tthis.callback = callback;\n\t\t\tthis.css = css;\n\t\t\tthis.ctx = ctx;\n\t\t\tthis.error = error;\n\t\t\tthis.start = start;\n\t\t\tthis.delimiter = delimiter;\n\t\t\tthis.history = [];\n\t\t\tthis.logging = logging;\n\t\t\tthis.routes = [];\n\t\t\tthis.stop = stop;\n\t\t}\n\n\t\tcurrent () {\n\t\t\treturn this.history[this.history.length - 1];\n\t\t}\n\n\t\thandler () {\n\t\t\tconst oldHash = this.history.length > 0 ? (this.current().hash || \"\").replace(not_hash, \"\") || null : null,\n\t\t\t\tnewHash = includes(location.hash, \"#\") ? location.hash.replace(not_hash, \"\") : null;\n\n\t\t\tif (this.active && this.valid(newHash)) {\n\t\t\t\tif (!includes(this.routes, newHash)) {\n\t\t\t\t\tthis.route(this.routes.filter(i => includes(i, newHash))[0] || this.start);\n\t\t\t\t} else {\n\t\t\t\t\tconst y = document.body.scrollTop;\n\n\t\t\t\t\trender(() => {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tconst oldHashes = oldHash ? oldHash.split(this.delimiter) : [],\n\t\t\t\t\t\t\t\tnewHashes = newHash.split(this.delimiter);\n\t\t\t\t\t\t\tlet oldRoute = \"\",\n\t\t\t\t\t\t\t\tnewEl, newTrigger;\n\n\t\t\t\t\t\t\t// deep links\n\t\t\t\t\t\t\tfor (const loldHash of oldHashes) {\n\t\t\t\t\t\t\t\toldRoute += `${oldRoute.length > 0 ? `${this.delimiter}` : \"\"}${loldHash}`;\n\t\t\t\t\t\t\t\tthis.select(`a[href=\"#${oldRoute}\"]`).forEach(o => o.classList.remove(\"is-active\"));\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tnewHashes.forEach((i, idx) => {\n\t\t\t\t\t\t\t\tconst nth = idx + 1,\n\t\t\t\t\t\t\t\t\tvalid = oldHashes.length >= nth,\n\t\t\t\t\t\t\t\t\toldEl = valid ? this.select(`#${oldHashes.slice(0, nth).join(\" #\")}`) : void 0,\n\t\t\t\t\t\t\t\t\toldTrigger = valid ? this.select(`a[href='#${oldHashes.slice(0, nth).join(this.delimiter)}']`) : void 0;\n\n\t\t\t\t\t\t\t\tnewEl = this.select(`#${newHashes.slice(0, nth).join(\" #\")}`);\n\t\t\t\t\t\t\t\tnewTrigger = this.select(`a[href='#${newHashes.slice(0, nth).join(this.delimiter)}']`);\n\t\t\t\t\t\t\t\tthis.load(oldTrigger, oldEl, newTrigger, newEl);\n\t\t\t\t\t\t\t}, this);\n\n\t\t\t\t\t\t\tconst r = new Route({\n\t\t\t\t\t\t\t\telement: newEl,\n\t\t\t\t\t\t\t\thash: newHash,\n\t\t\t\t\t\t\t\ttrigger: newTrigger\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tdocument.body.scrollTop = y;\n\t\t\t\t\t\t\tthis.log(r);\n\t\t\t\t\t\t\tthis.callback(r);\n\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\tthis.error(err);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tload (oldTrigger = [], oldEl = [], newTrigger = [], newEl = []) {\n\t\t\tif (this.css.current.length > 0) {\n\t\t\t\tif (oldTrigger.length > 0) {\n\t\t\t\t\toldTrigger.forEach(i => i.classList.remove(this.css.current));\n\t\t\t\t}\n\n\t\t\t\tif (oldEl.length > 0 && oldEl.id !== newEl.id) {\n\t\t\t\t\toldEl.forEach(i => i.classList.add(this.css.hidden));\n\t\t\t\t}\n\n\t\t\t\tif (newTrigger.length > 0) {\n\t\t\t\t\tnewTrigger.forEach(i => i.classList.add(this.css.current));\n\t\t\t\t}\n\n\t\t\t\tif (newEl.length > 0) {\n\t\t\t\t\tnewEl.forEach(i => this.sweep(i, this.css.hidden));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tlog (arg) {\n\t\t\tthis.history.push(this.logging ? arg : {hash: arg.hash});\n\n\t\t\treturn this;\n\t\t}\n\n\t\tpopstate (ev) {\n\t\t\tthis.handler(ev);\n\t\t}\n\n\t\tprocess () {\n\t\t\tconst hash = document.location.hash.replace(\"#\", \"\");\n\n\t\t\tthis.scan(this.start);\n\n\t\t\tif (!has(this.css.hidden, this.ctx.classList)) {\n\t\t\t\tif (hash.length > 0 && includes(this.routes, hash)) {\n\t\t\t\t\tthis.handler();\n\t\t\t\t} else {\n\t\t\t\t\tthis.route(this.start);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\troute (arg = \"\") {\n\t\t\tdocument.location.hash = arg;\n\n\t\t\treturn this;\n\t\t}\n\n\t\tselect (arg) {\n\t\t\treturn from(this.ctx.querySelectorAll.call(this.ctx, arg));\n\t\t}\n\n\t\tscan (arg = \"\") {\n\t\t\tthis.routes = Array.from(new Set(this.select(\"a\").filter(i => includes(i.href, \"#\")).map(i => i.href.replace(not_hash, \"\")).filter(i => i !== \"\")));\n\n\t\t\tif (arg.length > 0) {\n\t\t\t\tthis.routes.push(arg);\n\t\t\t\tthis.routes = Array.from(new Set(this.routes));\n\t\t\t}\n\n\t\t\tthis.start = arg || this.routes[0] || null;\n\n\t\t\treturn this;\n\t\t}\n\n\t\tsweep (obj, klass) {\n\t\t\tfrom(obj.parentNode.childNodes).filter(i => i.nodeType === 1 && i.id && i.id !== obj.id).forEach(i => i.classList.add(klass));\n\t\t\tobj.classList.remove(klass);\n\n\t\t\treturn this;\n\t\t}\n\n\t\tvalid (arg = \"\") {\n\t\t\treturn arg === \"\" || (/=/).test(arg) === false;\n\t\t}\n\t}\n\n\tfunction factory (arg) {\n\t\tconst obj = new Router(arg);\n\n\t\tobj.popstate = obj.popstate.bind(obj);\n\n\t\tif (\"addEventListener\" in window) {\n\t\t\twindow.addEventListener(\"popstate\", obj.popstate, false);\n\t\t} else {\n\t\t\twindow.onpopstate = obj.popstate;\n\t\t}\n\n\t\tif (obj.active) {\n\t\t\tobj.process();\n\t\t}\n\n\t\treturn obj;\n\t}\n\n\tfactory.version = \"4.0.0\";\n\n\t// CJS, AMD & window supported\n\tif (typeof exports !== \"undefined\") {\n\t\tmodule.exports = factory;\n\t} else if (typeof define === \"function\" && define.amd !== void 0) {\n\t\tdefine(() => factory);\n\t} else {\n\t\twindow.router = factory;\n\t}\n}(document, window));\n"]}