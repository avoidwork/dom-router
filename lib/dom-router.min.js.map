{"version":3,"sources":["dom-router.js"],"names":["document","window","factory","arg","obj","Router","hashchange","bind","addEventListener","onhashchange","active","process","not_hash","includes","Array","indexOf","from","slice","call","has","a","b","time","Date","getTime","render","requestAnimationFrame","fn","setTimeout","Route","constructor","cfg","hash","element","trigger","timestamp","toISOString","callback","css","current","hidden","ctx","body","start","delimiter","error","logging","stop","history","routes","ev","stopPropagation","preventDefault","handler","oldHash","oldURL","replace","newHash","newURL","valid","route","filter","i","y","scrollTop","oldHashes","split","newHashes","newEl","newTrigger","oldRoute","loldHash","length","select","forEach","o","classList","remove","idx","nth","oldEl","join","oldTrigger","load","r","log","err","id","add","sweep","unshift","location","scan","querySelectorAll","Set","href","map","klass","parentNode","childNodes","nodeType","test","version","exports","define","amd","router","module"],"mappings":"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","file":"unknown","sourcesContent":["/**\n * URL hash DOM router\n *\n * @author Jason Mulligan <jason.mulligan@avoidwork.com>\n * @copyright 2021\n * @license BSD-3-Clause\n * @version 3.1.6\n */\n\n\"use strict\";\n\n(function (document, window) {\n\tconst not_hash = /.*\\#/,\n\t\tincludes = typeof Array.includes === \"function\" ? (obj, arg) => obj.includes(arg) : (obj, arg) => obj.indexOf(arg) > -1,\n\t\tfrom = typeof Array.from === \"function\" ? arg => Array.from(arg) : arg => [].slice.call(arg),\n\t\thas = (a, b) => a in b,\n\t\ttime = new Date().getTime(),\n\t\trender = window.requestAnimationFrame || function (fn) { setTimeout(fn(new Date().getTime() - time), 16); };\n\n\tclass Route {\n\t\tconstructor (cfg) {\n\t\t\tthis.hash = cfg.hash;\n\t\t\tthis.element = cfg.element;\n\t\t\tthis.trigger = cfg.trigger;\n\t\t\tthis.timestamp = new Date().toISOString();\n\t\t}\n\t}\n\n\tclass Router {\n\t\tconstructor ({active = true, callback = function () {}, css = {current: \"dr-current\", hidden: \"dr-hidden\"}, ctx = document.body, start = null, delimiter = \"/\", error = function () {}, logging = false, stop = true} = {}) {\n\t\t\tthis.active = active;\n\t\t\tthis.callback = callback;\n\t\t\tthis.css = css;\n\t\t\tthis.ctx = ctx;\n\t\t\tthis.error = error;\n\t\t\tthis.start = start;\n\t\t\tthis.delimiter = delimiter;\n\t\t\tthis.history = [];\n\t\t\tthis.logging = logging;\n\t\t\tthis.routes = [];\n\t\t\tthis.stop = stop;\n\t\t}\n\n\t\tcurrent () {\n\t\t\treturn this.history[0];\n\t\t}\n\n\t\thashchange (ev) {\n\t\t\tif (this.stop) {\n\t\t\t\tif (\"stopPropagation\" in ev && typeof ev.stopPropagation === \"function\") {\n\t\t\t\t\tev.stopPropagation();\n\t\t\t\t}\n\n\t\t\t\tif (\"preventDefault\" in ev && typeof ev.preventDefault === \"function\") {\n\t\t\t\t\tev.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.handler(ev);\n\t\t}\n\n\t\thandler (ev) {\n\t\t\tconst oldHash = includes(ev.oldURL, \"#\") ? ev.oldURL.replace(not_hash, \"\") : null,\n\t\t\t\tnewHash = includes(ev.newURL, \"#\") ? ev.newURL.replace(not_hash, \"\") : null;\n\n\t\t\tif (this.active && this.valid(newHash)) {\n\t\t\t\tif (!includes(this.routes, newHash)) {\n\t\t\t\t\tthis.route(this.routes.filter(i => includes(i, newHash))[0] || this.start);\n\t\t\t\t} else {\n\t\t\t\t\tconst y = document.body.scrollTop;\n\n\t\t\t\t\trender(() => {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tconst oldHashes = oldHash ? oldHash.split(this.delimiter) : [],\n\t\t\t\t\t\t\t\tnewHashes = newHash.split(this.delimiter);\n\t\t\t\t\t\t\tlet oldRoute = \"\",\n\t\t\t\t\t\t\t\tnewEl, newTrigger;\n\n\t\t\t\t\t\t\t// deep links\n\t\t\t\t\t\t\tfor (const loldHash of oldHashes) {\n\t\t\t\t\t\t\t\toldRoute += `${oldRoute.length > 0 ? `${this.delimiter}` : \"\"}${loldHash}`;\n\t\t\t\t\t\t\t\tthis.select(`a[href=\"#${oldRoute}\"]`).forEach(o => o.classList.remove(\"is-active\"));\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tnewHashes.forEach((i, idx) => {\n\t\t\t\t\t\t\t\tconst nth = idx + 1,\n\t\t\t\t\t\t\t\t\tvalid = oldHashes.length >= nth,\n\t\t\t\t\t\t\t\t\toldEl = valid ? this.select(`#${oldHashes.slice(0, nth).join(\" #\")}`) : void 0,\n\t\t\t\t\t\t\t\t\toldTrigger = valid ? this.select(`a[href='#${oldHashes.slice(0, nth).join(this.delimiter)}']`) : void 0;\n\n\t\t\t\t\t\t\t\tnewEl = this.select(`#${newHashes.slice(0, nth).join(\" #\")}`);\n\t\t\t\t\t\t\t\tnewTrigger = this.select(`a[href='#${newHashes.slice(0, nth).join(this.delimiter)}']`);\n\t\t\t\t\t\t\t\tthis.load(oldTrigger, oldEl, newTrigger, newEl);\n\t\t\t\t\t\t\t}, this);\n\n\t\t\t\t\t\t\tconst r = new Route({\n\t\t\t\t\t\t\t\telement: newEl,\n\t\t\t\t\t\t\t\thash: newHash,\n\t\t\t\t\t\t\t\ttrigger: newTrigger\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tdocument.body.scrollTop = y;\n\t\t\t\t\t\t\tthis.log(r);\n\t\t\t\t\t\t\tthis.callback(r);\n\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\tthis.error(err);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tload (oldTrigger = [], oldEl = [], newTrigger = [], newEl = []) {\n\t\t\tif (this.css.current.length > 0) {\n\t\t\t\tif (oldTrigger.length > 0) {\n\t\t\t\t\toldTrigger.forEach(i => i.classList.remove(this.css.current));\n\t\t\t\t}\n\n\t\t\t\tif (oldEl.length > 0 && oldEl.id !== newEl.id) {\n\t\t\t\t\toldEl.forEach(i => i.classList.add(this.css.hidden));\n\t\t\t\t}\n\n\t\t\t\tif (newTrigger.length > 0) {\n\t\t\t\t\tnewTrigger.forEach(i => i.classList.add(this.css.current));\n\t\t\t\t}\n\n\t\t\t\tif (newEl.length > 0) {\n\t\t\t\t\tnewEl.forEach(i => this.sweep(i, this.css.hidden));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tlog (arg) {\n\t\t\tif (this.logging) {\n\t\t\t\tthis.history.unshift(arg);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tprocess () {\n\t\t\tconst hash = document.location.hash.replace(\"#\", \"\");\n\n\t\t\tthis.scan(this.start);\n\n\t\t\tif (!has(this.css.hidden, this.ctx.classList)) {\n\t\t\t\tif (hash.length > 0 && includes(this.routes, hash)) {\n\t\t\t\t\tthis.handler({oldURL: \"\", newURL: document.location.hash});\n\t\t\t\t} else {\n\t\t\t\t\tthis.route(this.start);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\troute (arg = \"\") {\n\t\t\tdocument.location.hash = arg;\n\n\t\t\treturn this;\n\t\t}\n\n\t\tselect (arg) {\n\t\t\treturn from(this.ctx.querySelectorAll.call(this.ctx, arg));\n\t\t}\n\n\t\tscan (arg) {\n\t\t\tthis.routes = Array.from(new Set(this.select(\"a\").filter(i => includes(i.href, \"#\")).map(i => i.href.replace(not_hash, \"\")).filter(i => i !== \"\")));\n\t\t\tthis.start = arg || this.routes[0] || null;\n\n\t\t\treturn this;\n\t\t}\n\n\t\tsweep (obj, klass) {\n\t\t\tfrom(obj.parentNode.childNodes).filter(i => i.nodeType === 1 && i.id && i.id !== obj.id).forEach(i => i.classList.add(klass));\n\t\t\tobj.classList.remove(klass);\n\n\t\t\treturn this;\n\t\t}\n\n\t\tvalid (arg = \"\") {\n\t\t\treturn arg === \"\" || (/=/).test(arg) === false;\n\t\t}\n\t}\n\n\tfunction factory (arg) {\n\t\tconst obj = new Router(arg);\n\n\t\tobj.hashchange = obj.hashchange.bind(obj);\n\n\t\tif (\"addEventListener\" in window) {\n\t\t\twindow.addEventListener(\"hashchange\", obj.hashchange, false);\n\t\t} else {\n\t\t\twindow.onhashchange = obj.hashchange;\n\t\t}\n\n\t\tif (obj.active) {\n\t\t\tobj.process();\n\t\t}\n\n\t\treturn obj;\n\t}\n\n\tfactory.version = \"3.1.6\";\n\n\t// CJS, AMD & window supported\n\tif (typeof exports !== \"undefined\") {\n\t\tmodule.exports = factory;\n\t} else if (typeof define === \"function\" && define.amd !== void 0) {\n\t\tdefine(() => factory);\n\t} else {\n\t\twindow.router = factory;\n\t}\n}(document, window));\n"]}