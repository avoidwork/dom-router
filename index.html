<!DOCTYPE html>
<html lang="en">
<head>
	<title>dom-router: Simple &amp; powerful routing</title>
	<meta name="viewport" content="width=device-width" />
	<link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Arimo:400,700,400italic,700italic" media="print,screen" />
	<link rel="stylesheet" type="text/css" href="assets/css/reset.css" media="print,screen" />
	<link rel="stylesheet" type="text/css" href="assets/css/style.css" media="print,screen" />
	<link rel="stylesheet" type="text/css" href="assets/css/media.css" media="screen" />
</head>
<body>
<header>
	<h1>dom-router</h1>
	<p>View on GitHub <a href="https://github.com/avoidwork/dom-router" title="dom-router project on GitHub">avoidwork/dom-router</a></p>
	<nav>
		<ul>
			<li><a href="#main">Main</a></li>
			<li><a href="#example">Example</a></li>
			<li><a href="#configuration">Configuration</a></li>
			<li><a href="#api">API</a></li>
		</ul>
	</nav>
</header>
<article>
	<section id="main">
		<h1>Simple &amp; powerful routing</h1>
		<p>Imagine you didn't have to write a bunch of JavaScript to get a slick, progressively enhanced interface! <code>dom-router</code>
is a URL hash to DOM router which automatically, &amp; intelligently toggles visibility of <code>Elements</code> based on <code>hashchange</code>
events.</p>
		<p>This provides a clean separation of concerns, and progressive enhancement in a simple library. You can write clean HTML, and <code>dom-router</code> will progressively enhance the interface with CSS classes (not supplied). DOM updates happen on an animation frame to minimize impacting your application. An optional <code>callback</code> allows you to handle application state changes the way you want.</p>

		<h2>How can I load dom-router?</h2>
		<p>dom-router can be installed from npm, &amp; bower, and supports CJS, AMD, &amp; script tags.
When loaded with a script tag, <code>window.router</code> will be created.</p>

		<h2>Requirements</h2>
		<ul>
			<li><code>Element.classList</code> API, or shim</li>
		</ul>
	</section>
	<section id="example">
		<h1>Example</h1>
		<p>This example is meant to demonstrate multi-tier routing in a single page application. When the HTML is "clean", it is functional for screen readers &amp; text based browsers like `lynx`, and with progressive enhancement, developers can add new behaviour without impacting the experience of other consumers.</p>

		<h3>Before routing is enabled</h3>
		<script src="https://gist.github.com/avoidwork/609529d9a836510d8173.js"></script>

		<h3>After routing is enabled</h3>
		<script src="https://gist.github.com/avoidwork/e77ba35cafddd25f9ded.js"></script>

		<h3>Minimal coding required</h3>
		<script src="https://gist.github.com/avoidwork/6a119b680f6609513936.js"></script>
	</section>
	<section id="configuration">
		<h1>Configuration</h1>
		<h4>active</h4>
		<p><code>Boolean</code> which enables/disables routing</p>

		<h4>callback</h4>
		<p>Function to execute after route has changed, takes <code>arg</code> which describes the event.</p>

		<h4>css</h4>
		<p><code>Object</code> with <code>current</code>, &amp; <code>hidden</code> keys which have corresponding CSS class values, defaults to "current", &amp; "hidden".</p>

		<h4>ctx</h4>
		<p>Context for DOM selector, defaults to <code>body</code> if not specified.</p>
		<p>This allows for many routers to be dynamically created &amp; scoped to a "view", but it can get pretty complex pretty fast, so a single router is recommended.</p>

		<h4>default</h4>
		<p>[Optional] Default route to display if one is not specified, or an invalid route is specified.</p>

		<h4>delimiter</h4>
		<p>[Optional] Multi-tier routing delimiter, defaults to <code>/</code>, e.g. <code>#settings/billing</code>; each tier should map to a nested <code>id</code>.</p>

		<h4>log</h4>
		<p><code>Boolean</code> which logs routing to <code>router.history[]</code> if <code>true</code>, defaults to <code>false</code>; could be a memory leak if logging is enabled and target <code>Elements</code> are removed from DOM.</p>
	</section>
	<section id="api">
		<h1>API</h1>

		<h4>current()</h4>
		<p>Returns the current <code>Route</code>, if logging is enabled.</p>

		<h4>hashchange(ev)</h4>
		<p>Event handler, expects <code>{oldURL: "", newURL: ""}</code>.</p>

		<h4>scan(default)</h4>
		<p>Scans ctx for routes &amp; resets default which is an optional argument, otherwise it defaults to the first route.</p>

		<h4>select(query)</h4>
		<p>Context specific DOM selector.</p>
	</section>
</article>
<footer>
	<p>Copyright &copy; 2014 <a href="http://avoidwork.com" title="Jason Mulligan's website">Jason Mulligan</a><br />
		Licensed under the BSD-3 license</p>
</footer>
</body>
<script type="application/javascript" src="assets/js/dom-router.min.js"></script>
<script type="application/javascript">
r = router({callback: function (arg) {
	console.log(arg.element.id, "is visible");
}});
</script>
</html>
